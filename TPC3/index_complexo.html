<html><h1>TPC2 - a104618 - Processamento de Linguagens 2025</h1>
<b>Titulo :</b> TPC2 da UC Processamento de Linguagens<br>
<b>Data :</b> 2025-02-19<br>
<b>Autor :</b><br>
<ul><li><b>Nome :</b> André Filipe Barros Campos  </li><li><b>ID :</b> a104618  </li></ul>
<h2>Resumo</h2>
<ol><li>Dado um <a href=\"obras.csv\">dataset em csv</a>, devemos extrair as suas informações <i>(sem usar o módulo CSV de python)</i> e criar os seguintes resultados:  </li><ol><li>Lista ordenada alfabeticamente dos compositores musicais,  </li><li>Distribuição das obras por período: quantas obras catalogadas em cada período,  </li><li>Dicionário em que a cada período está a associada uma lista alfabética dos títulos das obras desse período.  </li></ol><li>Criei um programa em python chamado <a href=\"main.py\">main.py</a>, que processa o ficheiro csv mencionado em cima e produz os resultados também mencionados acima.  </li><li>O programa abre o <a href=\"obras.csv\">ficheiro csv</a> no modo <i>leitura</i> e analiso linha por linha  </li><li>Em cada linha, analiso caracter a caracter. Dependendo do caracter, o programa pode ter o seguinte comportamento:  </li><ol><li>Se o caracter não é um separador <i>';'</i>, um '\n', uma aspa e não está dentro de aspas, então adiciono esse caracter ao <b>buffer</b>, onde neste buffer estão todos os caracteres que futuramente serão uma <i>string</i> que irá corresponder a uma célula do csv    </li><li>Se o caracter é uma aspa, verifico se essa aspa é uma aspa só, <i>indicando que o texto analisado está dentro de aspas ou não</i>, ou se é duplas aspas, <i>indicando que é uma aspa dentro do texto dentro de aspas</i>:  </li><ol><li>Se forem duplas aspas, apenas adiciono o caracter '"' ao <b>buffer</b>  </li><li>Se não forem duplas aspas, então inverto a <i>flag</i> <b>dentro<i>aspas</b>, que indica se o texto analisado está dentro de aspas ou não. A diferência entre um texto estar dentro ou fora de aspas tem a ver se devo ver caracteres especiais como apenas um caracter dentro de uma </i>string<i> ou se representa operadores do ficheiro  </li></ol><li>Se o caracter é o separador </i>';'<i> e ele não está dentro de aspas, então guardo o <b>buffer</b> na coluna atual, limpo-o para que possa ser usado futuramente e indico que estou a analisar a próxima coluna  </li><li>Se o caracter é '\n', isso significa que cheguei ao fim da linha, logo essa linha foi totalmente analisada. Guardo os dados analisados numa lista e reinicio os dados para que possam ser usados noutra linha  </li></ol><li>A primeira linha é o <b>header</b>, portanto todos os itens serão guardados numa lista de </i>colunas do header<i>  </li><li>As próximas linhas serão dados, portanto todos os itens serão guardados num <b>dicionário</b>, onde cada <b>chave</b> será uma coluna do header e cada <b>valor</b> é o item dessa coluna do dado  </li><li>Guardo todos os dados, </i>onde cada dado é um dicionário<i>, num dicionário maior chamado <b>csv</b>  </li><li>Por fim, com este dicionário </i>csv_, consigo produzir os resultados pedidos com sucesso, onde:  </li><ol><li>Eu coleto todos os compositores e ordeno-os alfabeticamente  </li><li>Eu coleto todos os periodos e em cada periodo eu guardo o ID de cada obra numa lista e a quantidade de obras adicionadas nesse periodo  </li><li>Eu coleto todos os periodos e em cada periodo eu guardo todos os títulos das obras desse periodo. No fim, eu ordeno-os alfabéticamente  </li></ol><li>Para verificar que o programa funciona corretamente, e para conseguir visualizar os resultados, eu guardo os resultados em ficheiros <b>json</b>:  </li><ul><li><a href=\"resultados_dataset.json\">Ficheiro "resultados_dataset.json"</a> tem todos os dados do ficheiro csv  </li><li><a href=\"resultados_compositores.json\">Ficheiro "resultados_compositores.json"</a> tem todos os compositores ordenados alfabéticamente  </li><li><a href=\"resultados_quantidade_obras.json\">Ficheiro "resultados_quantidade_obras.json"</a> tem todas as quantidades de obras (o ID dessas obras incluido) de um dado periodo  </li><li><a href=\"resultados_titulo_obras.json\">Ficheiro "resultados_titulo_obras.json"</a> tem todos os títulos das obras de um determinado periodo ordenados alfabéticamente  </li><li><a href=\"resultados.json\">Ficheiro "resultados.json"</a> é a junção de todos os resultados listados anteriormente num único ficheiro  </li></ul></ol>
<h2>Lista de Resultados</h2>
<ul><li><a href=\"obras.csv\">Ficheiro CSV</a>  </li><li><a href=\"main.py\">Programa que resolve este TPC</a>  </li><li><a href=\"resultados_dataset.json\">Ficheiro com os resultados "resultados_dataset.json"</a>  </li><li><a href=\"resultados_compositores.json\">Ficheiro com os resultados "resultados_compositores.json"</a>  </li><li><a href=\"resultados_quantidade_obras.json\">Ficheiro com os resultados "resultados_quantidade_obras.json"</a>  </li><li><a href=\"resultados_titulo_obras.json\">Ficheiro com os resultados "resultados_titulo_obras.json"</a>  </li><li><a href=\"resultados.json\">Ficheiro com os resultados "resultados.json"</a>  </li></ul>
<h3>Imagem</h3>
<img src=image.png alt=Imagem/></html>